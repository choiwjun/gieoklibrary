# 기억책방 - 기능 명세서

## 📌 문서 정보

**프로젝트**: 기억책방 (Gieok Library)

**문서 유형**: 기능 명세서 Part 1/2

**버전**: v1.0

**작성일**: 2025년 12월 29일

**이 문서의 목적**:

- 각 화면의 구성과 동작 방식 정의
- UI/UX 요구사항 명시
- 데이터 구조 개요 제공
- 개발 파트너가 즉시 구현 시작할 수 있도록 명확한 가이드 제공

**Part 1 포함 기능:**

1. 사용자 인증 및 온보딩
2. AI 음성 자서전
3. 영상 편지 타임캡슐

**Part 2 포함 예정:**
4. 동네 친구 매칭
5. 50+ 경력 매칭
6. 디지털 유언장
7. 케어 기관 매칭
8. 구독 및 결제
9. 설정 및 관리
10. 관리자 기능

---

## 1. 사용자 인증 및 온보딩

### 1.1 시작 화면

**화면 목적**: 신규/기존 사용자 로그인

**UI 구성**:

- 기억책방 로고 (중앙 상단, 베이지 톤)
- 서비스 소개: "당신의 이야기를 기억합니다"
- 소셜 로그인 버튼 3개 (세로 배치, 초대형):
    - 카카오 로그인 (노란색, 카카오 로고)
    - 네이버 로그인 (초록색, 네이버 로고)
    - 구글 로그인 (흰색, 구글 로고)
- 하단 작은 글씨: "로그인 시 이용약관 및 개인정보처리방침에 동의하게 됩니다"

**동작 흐름**:

1. 소셜 로그인 버튼 클릭
2. 해당 플랫폼 인증 페이지로 이동
3. 인증 완료 → Supabase Auth 세션 생성
4. 신규 사용자 → 온보딩 Step 1로
5. 기존 사용자 → 홈 화면으로

**저장 데이터**:

- 사용자 기본 정보 (이메일, 이름, 프로필 사진)
- 인증 제공자 정보 (kakao/naver/google)
- 구독 등급 (기본값: free)

**예외 처리**:

- 네트워크 오류: "인터넷 연결을 확인해주세요"
- 로그인 취소: 시작 화면 유지
- 서버 오류: "잠시 후 다시 시도해주세요"

---

### 1.2 온보딩 프로세스 (신규 사용자)

### Step 1: 환영 메시지

**화면 목적**: 서비스 소개 및 친근감 형성

**UI 구성**:

- 제목: "기억책방에 오신 것을 환영합니다" (큰 글씨, 20pt+)
- 핵심 가치 3줄:
    - 💙 당신의 소중한 이야기를 기록합니다
    - 👨‍👩‍👧‍👦 가족과 함께 추억을 나눕니다
    - 🤝 새로운 친구와 기회를 연결합니다
- "시작하기" 버튼 (베이지 색상, 둥근 모서리)

**동작**: "시작하기" 클릭 → Step 2로 이동

---

### Step 2: 기본 정보 입력

**화면 목적**: 서비스 제공 필수 정보 수집

**UI 구성**:

- 진행 표시: "2 / 3"
- 입력 필드 (큰 글씨, 충분한 여백):
    1. 이름 (필수, 소셜 로그인 정보로 자동 채움)
    2. 생년월일 (필수, 날짜 선택기)
    3. 거주 지역 (필수, 시/도 → 시/군/구 2단계 드롭다운)
- 하단: "이전" (작게) / "다음" (크게)

**입력 검증**:

- 이름: 2자 이상
- 생년월일: 18세 이상
- 거주 지역: 선택 필수

**동작**: "다음" 클릭 → 임시 저장 → Step 3로

---

### Step 3: 관심 기능 선택

**화면 목적**: 개인화된 홈 화면 구성

**UI 구성**:

- 진행 표시: "3 / 3"
- 제목: "어떤 기능에 관심이 있으신가요?" (복수 선택 가능)
- 체크박스 카드 5개:
    - 📝 나의 이야기 기록하기
    - 📹 가족에게 영상 편지 남기기
    - 👥 동네 친구 만들기
    - 💼 내 경력 활용하기
    - 📄 유언장 작성하기
- 하단: "이전" / "완료"

**동작**:

1. 최소 1개 선택 필요
2. "완료" 클릭:
    - 사용자 정보 DB 저장
    - 선택한 관심 기능 저장
    - 홈 화면으로 이동
    - 선택 기능이 홈 화면 상단에 우선 노출

---

### 1.3 홈 화면 (메인 대시보드)

**화면 목적**: 모든 핵심 기능 접근 허브

**상단 영역**:

- 좌측: 기억책방 로고 (작게)
- 중앙: "안녕하세요, [이름]님"
- 우측: 알림 아이콘 (배지), 설정 아이콘
- 오늘 날짜 표시

**메인 영역** (스크롤 카드 리스트):

각 카드 구조: 아이콘 + 제목 + 설명 + 상태 + 버튼

**1. AI 음성 자서전**

- 아이콘: 🎤
- 제목: "오늘의 이야기"
- 설명: "오늘은 어떤 이야기를 들려주실까요?"
- 상태: "이번 달 25분 남음"
- 버튼: "녹음 시작"

**2. 영상 편지 타임캡슐**

- 아이콘: 📹
- 제목: "영상 편지"
- 설명: "소중한 사람에게 영상 메시지를 남겨보세요"
- 상태: "작성한 영상 3개"
- 버튼: "영상 녹화"

**3. 동네 친구 매칭**

- 아이콘: 👥
- 제목: "동네 친구"
- 설명: "가까운 곳에서 새로운 친구를 만나보세요"
- 상태: "새로운 추천 2명"
- 버튼: "친구 찾기"

**4. 50+ 경력 매칭**

- 아이콘: 💼
- 제목: "내 경력 활용"
- 설명: "당신의 경험을 나누고 새로운 기회를 찾아보세요"
- 상태: "프로필을 작성해보세요" / "새로운 기회 1건"
- 버튼: "시작하기" / "기회 보기"

**5. 디지털 유언장**

- 아이콘: 📄
- 제목: "디지털 유언장"
- 설명: "가족에게 전할 마지막 이야기를 준비하세요"
- 상태: "아직 작성 전" / "마지막 수정: 12월 15일"
- 버튼: "작성하기" / "수정하기"

**6. 케어 기관 매칭** (조건부 표시)

- 표시 조건: AI가 치매 위험 신호 감지 시만
- 아이콘: ❤️
- 제목: "전문가 상담 권장"
- 설명: "최근 대화 패턴에 작은 변화가 있습니다"
- 버튼: "자세히 보기"

**하단 네비게이션**:

- 홈 🏠 (현재)
- 내 이야기 📖
- 내 활동 🎯
- 더보기 ⋯

**디자인 원칙**:

- 카드 간 여백: 최소 16px
- 카드 최소 높이: 120px
- 글씨: 제목 20pt, 설명 16pt, 버튼 18pt
- 색상: 베이지/브라운/크림 톤
- 모서리: 둥글게 (12px)

---

## 2. AI 음성 자서전

### 2.1 녹음 준비 화면

**화면 목적**: 편안한 분위기에서 녹음 유도

**UI 구성**:

- 제목: "오늘의 이야기" (중앙)
- 중앙: 큰 마이크 아이콘 (펄스 애니메이션)
- 안내 문구:

  `편안하게 말씀해주세요.
  어떤 이야기든 좋습니다.`

- 오늘의 질문 제안 (카드, 선택사항):
    - "어린 시절 가장 기억에 남는 일은 무엇인가요?"
    - "처음 직장에 다닐 때 이야기를 들려주세요"
    - "자유롭게 말씀하기" 옵션
- 하단 정보: "이번 달 남은 녹음 시간: 25분"
- 링크: "이전 녹음 보기"
- 초대형 "녹음 시작" 버튼 (빨간 원형)

**동작**:

1. 남은 녹음 시간 계산 (구독 플랜별)
2. 오늘의 질문 랜덤 표시
3. "녹음 시작" 클릭:
    - 마이크 권한 요청 (최초 1회)
    - 허용 시 → 녹음 화면으로
    - 거부 시 → 권한 안내

**예외 처리**:

- 마이크 권한 거부: "음성 녹음을 위해 마이크 권한이 필요합니다. 설정에서 허용해주세요."
- 녹음 시간 0분: "이번 달 녹음 시간을 모두 사용하셨습니다. 프리미엄으로 업그레이드하시겠어요?"

---

### 2.2 녹음 중 화면

**화면 목적**: 녹음 진행 및 실시간 피드백

**UI 구성**:

- 상단: "녹음 중..." (깜박이는 빨간 점)
- 중앙: 펄스 애니메이션 (음성 크기 반응) + 파형 시각화
- 타이머:
    - 경과 시간: "02:35" (큰 글씨)
    - 남은 시간: "남은 시간 27:25" (작은 글씨)
- 하단 버튼 3개:
    - "일시정지" (노란 원형)
    - "완료" (초록 사각, 가장 크게)
    - "취소" (회색 작게)

**동작**:

- 실시간 음성 녹음 및 버퍼링
- 음량에 따라 애니메이션 크기 변화
- "일시정지" → 녹음 중지, "재개"로 변경
- "완료" → 파일 생성 → 업로드 → AI 처리
- "취소" → 2단계 확인 팝업

**취소 확인 팝업**:

`녹음을 취소하시겠습니까?
지금까지의 내용이 저장되지 않습니다.
[계속 녹음] [취소]`

**예외 처리**:

- 30분 초과: 자동 종료 후 저장
- 업로드 실패: 로컬 보관 후 재시도

---

### 2.3 AI 처리 중 화면

**화면 목적**: 진행 상황 투명하게 안내

**UI 구성**:

- 중앙: 책장 넘기는 로딩 애니메이션
- 진행 단계 체크리스트:
    - ✅ 음성 파일 저장 완료
    - ⏳ 텍스트로 변환 중... (30초~1분)
    - ⏳ AI가 이야기를 정리 중... (1~2분)
    - ⏳ 대화 패턴 분석 중...
- 예상 시간: "약 3분 후 완료됩니다"
- 안내:

  `백그라운드에서 처리됩니다.
  다른 기능을 사용하셔도 됩니다.
  완료되면 알려드릴게요.`

- "홈으로" 버튼

**백엔드 처리 단계**:

1. 음성 파일 업로드 → Supabase Storage
2. AI 처리 큐에 작업 추가
3. OpenAI Whisper API: 음성 → 텍스트 변환
4. GPT/Claude API: 텍스트 정리 및 챕터 구성
5. 대화 패턴 분석 (치매 조기 신호 감지)
6. 처리 완료 → 사용자에게 푸시 알림

**저장 데이터**:

- 음성 파일 URL
- 원본 텍스트 (Whisper 결과)
- 정리된 텍스트 (GPT 결과)
- AI 생성 제목
- 녹음 시간(초)
- 대화 패턴 분석 결과 (JSON)
    - 반복 표현 횟수
    - 시간/장소 혼동 횟수
    - 어휘 다양성 점수
    - 위험도 레벨 (normal/attention/concern)

**완료 알림**:

`제목: "이야기 정리 완료"
내용: "오늘 녹음하신 이야기가 정리되었습니다."`

---

### 2.4 녹음 목록 화면

**화면 목적**: 모든 녹음 기록 조회 및 관리

**UI 구성**:

- 제목: "내 이야기"
- 필터: 전체 / 이번 달 / 지난 3개월 / 올해
- 정렬: 최신순 / 오래된 순
- 통계 카드:
    - "총 15개의 이야기"
    - "총 녹음 시간 2시간 30분"
- 목록 (카드 형태):
    - 날짜: "2025년 12월 15일"
    - AI 생성 제목: "어린 시절 고향 이야기"
    - 미리보기: 첫 2줄
    - 재생 버튼 (작은 아이콘)
    - 더보기 (⋮) → 공유/수정/삭제
- 하단: "PDF로 다운로드" 버튼

**동작**:

- 카드 클릭 → 상세 화면
- 재생 버튼 → 오디오 인라인 재생
- PDF 다운로드 → 전체 녹음을 하나의 PDF로 생성

---

### 2.5 녹음 상세 화면

**화면 목적**: 개별 녹음 확인 및 편집

**UI 구성**:

**상단**:

- 뒤로 가기 버튼
- 날짜: "2025년 12월 15일"
- 제목 (클릭 시 수정 가능)
- 더보기 (⋮)

**오디오 플레이어** (고정):

- 재생/일시정지
- 진행 바 (Seekable)
- 시간 표시: "02:35 / 05:20"
- 재생 속도: 0.8x / 1.0x / 1.2x

**본문** (스크롤):

- 정리된 텍스트
- 글씨: 20pt, 줄간격 1.8
- 색상: 진한 브라운
- 단락 구분 명확

**하단 버튼**:

- "가족과 공유"
- "수정"
- "원본 보기"
- "삭제"

**동작**:

**제목 수정**: 클릭 → 입력 모드 → 저장

**텍스트 수정**:

- "수정" 클릭 → 편집 모드
- 저장 → 수정 이력 기록

**가족과 공유**:

- 가족 목록 모달 표시
- 선택 후 공유 → 알림 발송

**삭제**:

- 1단계: "정말 삭제하시겠습니까?"
- 2단계: "30일간 휴지통 보관, 복구 가능"
- Soft delete (완전 삭제 X)

**원본 보기**:

- 모달로 AI 정리 전 텍스트 표시

---

### 2.6 AI 대화 패턴 분석 (백그라운드)

**기능 목적**: 치매 조기 신호 감지

**분석 항목**:

1. 반복 표현 감지 (같은 말 반복 횟수)
2. 시간/장소 혼동 (일관성 검사)
3. 어휘 다양성 (고유 단어 비율)
4. 이전 녹음과 비교 (변화 추이)

**위험도 분류**:

- **normal**: 정상 범위
- **attention**: 주의 필요 (경미한 변화)
- **concern**: 우려 (명확한 변화)

**알림 기준**:

**concern 시**: 즉시 알림

`제목: "전문가 상담 권장"
내용: "최근 대화 패턴에 변화가 있습니다. 
      정확한 확인을 위해 전문가 상담을 권장드립니다."`

**attention 3회 연속**: 알림

`제목: "건강 체크 권장"
내용: "최근 몇 주간 작은 변화가 감지되었습니다.
      건강 체크를 받아보시는 것은 어떨까요?"`

**윤리적 고려**:

- ❌ 절대 사용 금지: "치매 위험", "치매 진단", "치매 의심"
- ✅ 사용 가능: "대화 패턴 변화", "전문가 상담 권장"
- 모든 알림에 면책: "이 알림은 의료 진단이 아니며 참고용입니다"

---

### 2.7 가족 공유

### 가족 초대 화면

**화면 목적**: 자서전을 가족과 공유

**UI 구성**:

- 제목: "가족 초대하기"
- 설명: "가족을 초대하시면 당신의 소중한 이야기를 함께 볼 수 있습니다"
- 초대 방법 3가지:
    1. 카카오톡으로 초대 (노란 버튼)
    2. 문자로 초대 (전화번호 입력)
    3. 링크 복사
- 초대 메시지 미리보기:

  `안녕하세요!
  [홍길동]님이 기억책방에서
  당신을 가족으로 초대했습니다.
  소중한 이야기를 함께 확인하세요.
  
  [초대 링크]
  
  ※ 이 링크는 7일간 유효합니다.`

**동작**:

- 초대 링크 생성 (7일 유효)
- 카카오톡/문자 전송
- 링크 클립보드 복사

---

### 초대 수락 화면 (초대받은 사람)

**UI 구성**:

- 로고
- 메시지: "[홍길동]님이 당신을 가족으로 초대했습니다"
- 초대한 사람 정보 (이름, 프로필 사진)
- 버튼:
    - "수락하고 시작하기" (초록, 크게)
    - "거절" (회색, 작게)

**동작**:

- 로그인 안 된 경우 → 로그인 유도
- "수락" → 가족 관계 생성 → 공유 시작
- "거절" → 초대 종료

---

### 가족 목록 관리 화면

**UI 구성**:

- 제목: "내 가족"
- 가족 카드 리스트:
    - 프로필 사진
    - 이름
    - 관계: "딸"
    - 권한: "읽기 전용" / "읽기+댓글" / "읽기+편집"
    - 수락 날짜
    - 더보기 (⋮) → 권한 변경 / 연결 해제
- 하단: "+ 가족 초대하기"

**권한 종류**:

- 읽기 전용: 녹음 조회만
- 읽기+댓글: 녹음에 댓글 가능
- 읽기+편집: 텍스트 수정 가능 (신중)

**동작**:

- 권한 변경: 모달로 선택 → 업데이트
- 연결 해제: 확인 후 삭제

---

## 3. 영상 편지 타임캡슐

### 3.1 영상 편지 소개 화면

**화면 목적**: 기능 설명 및 감정적 준비

**UI 구성**:

- 제목: "영상 편지 타임캡슐"
- 중앙: 편지 봉투 일러스트
- 설명:

  `소중한 사람에게 전할 영상 메시지를 남겨보세요.
  
  미래의 특별한 날, 또는 당신이 함께할 수 없을 때
  이 영상이 전달됩니다.`

- 예시 상황 카드 3개:
    - 💍 손주의 결혼식 날
    - 🎂 자녀의 50세 생일
    - 💌 내가 세상을 떠난 후
- 버튼: "영상 녹화 시작"

---

### 3.2 전달 조건 설정

### Step 1: 수신자 선택

**UI 구성**:

- 진행: "1 / 3"
- 제목: "누구에게 전달하시겠어요?"
- 가족 목록 (다중 선택 체크박스)
- 또는 "직접 입력":
    - 이름
    - 관계
- "다음" 버튼

**동작**: 최소 1명 선택 → Step 2로

---

### Step 2: 전달 시점 설정

**UI 구성**:

- 진행: "2 / 3"
- 제목: "언제 전달하시겠어요?"
- 라디오 버튼 3가지:

**옵션 1: 특정 날짜**

- 날짜 선택기
- 예: "2030년 5월 20일"

**옵션 2: 특정 이벤트**

- 텍스트 입력: "손주 결혼식"
- 안내: "가족이 직접 이벤트 발생을 알려줘야 합니다"

**옵션 3: 사후 전달**

- "내가 세상을 떠난 후에 전달"
- 확인 방법:
    1. 가족이 직접 알림
    2. 6개월 이상 로그인 없을 경우 자동
- "이전" / "다음" 버튼

**동작**: 선택 → 임시 저장 → Step 3로

---

### 3.3 영상 녹화

### Step 3: 녹화 화면

**UI 구성**:

- 진행: "3 / 3"
- 카메라 프리뷰 (전체 화면)
- 상단:
    - 카메라 전환 (전면 ↔ 후면)
    - 플래시
- 중앙 하단: 큰 녹화 버튼 (빨간 원)
- 녹화 중: "02:35 / 05:00"
- "완료" / "취소" 버튼

**동작**:

1. 카메라 권한 요청
2. 전면 카메라 활성화
3. 녹화 버튼 → 3초 카운트다운 → 시작
4. 최대 5분
5. "완료" → 미리보기 화면
6. "취소" → 확인 후 삭제

---

### 3.4 영상 미리보기

**UI 구성**:

- 비디오 플레이어 (자동 재생)
- 재생 컨트롤
- 하단:
    - "다시 녹화" (회색)
    - "저장" (초록, 크게)

**동작**:

- "저장" → 업로드 → 썸네일 생성 → DB 저장
- 성공 메시지: "영상 편지가 안전하게 저장되었습니다. 설정하신 시점에 전달됩니다."
- "다시 녹화" → Step 3로

**저장 데이터**:

- 비디오 파일 URL
- 썸네일 URL
- 수신자 목록 (이름, 관계, user_id)
- 전달 조건 (타입, 날짜/이벤트)
- 상태 (scheduled)
- 녹화 날짜 및 재생 시간

---

### 3.5 영상 편지 목록 화면

**화면 목적**: 작성한 영상 편지 조회 및 관리

**UI 구성**:

- 제목: "내 영상 편지"
- 필터: 전체 / 예약됨 / 전달 완료
- 목록 (카드):
    - 썸네일
    - 수신자: "김영희, 김철수"
    - 전달 조건:
        - "2030년 5월 20일 전달 예정"
        - "손주 결혼식 때 전달 예정"
        - "사후 전달"
    - 상태 배지: "예약됨" / "전달 완료"
    - 재생 시간: "03:45"
    - 더보기 (⋮)
- 하단: "+ 새 영상 편지 만들기"

**동작**:

- 카드 클릭 → 상세 화면
- 더보기: 전달 조건 수정 / 삭제 / 전달 이력

---

### 3.6 영상 편지 상세 화면

**UI 구성**:

- 비디오 플레이어 (전체 화면)
- 하단 정보:
    - 수신자 목록
    - 전달 조건
    - 녹화 날짜
    - 상태
- 버튼:
    - 전달 전: "전달 조건 수정" / "삭제"
    - 전달 후: "수신 확인 내역"

**수신 확인 내역** (전달 후):

- 모달 팝업
- 리스트:
    - 김영희: 2030년 5월 21일 확인 ✅
    - 김철수: 아직 확인 안 함 ⏳

**삭제 확인**:

`정말 삭제하시겠어요?
이 영상 편지는 30일 후 완전히 삭제됩니다.
[취소] [삭제]`

---

### 3.7 영상 편지 전달 시스템

**자동화 프로세스** (백엔드):

**매일 자정 실행**:

1. 날짜 기반 전달 확인
    - delivery_condition.type = 'date'
    - delivery_condition.date = 오늘
    - 조건 만족 시 수신자에게 알림 발송
2. 사후 전달 확인 (6개월 미로그인)
    - 6개월 이상 로그인 없는 사용자 확인
    - 사후 전달 영상이 있으면 가족에게 확인 요청

**전달 알림** (수신자에게):

`푸시 알림:
제목: "소중한 영상 메시지가 도착했습니다"
내용: "[홍길동]님께서 당신에게 남기신 영상입니다."

이메일:
제목: [기억책방] 소중한 영상 메시지가 도착했습니다
내용: [홍길동]님께서 당신에게 특별한 영상 메시지를 남기셨습니다.
      [영상 보기] 버튼`

**상태 업데이트**:

- status: scheduled → delivered
- delivered_at: 현재 시각

---

### 3.8 받은 영상 편지함 (수신자 화면)

**화면 목적**: 받은 영상 편지 확인

**UI 구성**:

- 제목: "받은 영상 편지"
- 새로운 영상 배지
- 목록 (카드):
    - 보낸 사람: "아버지 홍길동"
    - 썸네일
    - 전달 날짜
    - 상태: "새로운 영상" / "확인함"
    - 재생 버튼
- 카드 클릭 → 영상 재생 화면

**재생 화면**:

- 전체 화면 비디오 플레이어
- 재생 완료 시:
    - 확인 기록 저장
    - 보낸 사람에게 "확인" 알림 (선택)
- 댓글/반응 남기기 가능
    - ❤️ 😢 😊 등 이모지
    - 간단한 댓글
- 다운로드 버튼

**저장 데이터** (수신 기록):

- 영상 편지 ID
- 수신자 ID
- 확인 날짜
- 반응 (이모지)
- 댓글

---

## 4. 동네 친구 매칭

### 4.1 프로필 작성 화면

**화면 목적**: 매칭을 위한 기본 정보 입력

**UI 구성**:

- 제목: "동네 친구 프로필"
- 입력 필드:

**1. 프로필 사진** (필수)

- 사진 업로드 영역 (큰 원형)
- "사진 선택" 버튼
- 카메라로 촬영 / 갤러리에서 선택

**2. 자기소개** (필수, 2-3줄)

- 텍스트 입력 (최대 150자)
- 예시 문구: "안녕하세요. 아침 산책을 좋아하는 65세 은퇴 교사입니다."
- 글자 수 표시

**3. 관심사** (필수, 다중 선택)

- 체크박스:
    - 🚶 산책/운동
    - ☕ 카페/차 마시기
    - 📚 독서
    - 🎨 그림/서예
    - 🎵 노래/악기
    - 🌱 원예/텃밭
    - 🍳 요리
    - ✈️ 여행
    - 기타 (직접 입력)

**4. 선호 활동 시간** (선택)

- 체크박스:
    - 아침 (6-9시)
    - 오전 (9-12시)
    - 오후 (12-18시)
    - 저녁 (18시 이후)

**5. 선호 만남 장소** (선택)

- 체크박스:
    - 공원
    - 카페
    - 도서관
    - 문화센터
    - 복지관
- 하단: "완료" 버튼 (초록색)

**입력 검증**:

- 프로필 사진: 필수
- 자기소개: 20자 이상
- 관심사: 최소 1개 선택

**동작**: "완료" → 프로필 저장 → 추천 친구 화면으로

**저장 데이터**:

- 사용자 ID
- 프로필 사진 URL
- 자기소개
- 관심사 (배열)
- 선호 시간 (배열)
- 선호 장소 (배열)
- 활성 상태 (active/inactive)

---

### 4.2 추천 친구 목록 화면

**화면 목적**: AI 추천 친구 확인

**UI 구성**:

- 제목: "동네 친구 추천"
- 부제: "가까운 곳에서 새로운 친구를 만나보세요"
- 필터 버튼:
    - 거리순
    - 관심사 유사도순
- 추천 카드 리스트:

**카드 구조**:

- 프로필 사진 (좌측)
- 이름: "김영희" (가명/닉네임)
- 나이: "65세"
- 거리: "500m" (우측 상단 배지)
- 공통 관심사: 🚶 산책, ☕ 카페 (아이콘 표시)
- 자기소개: "아침 산책을 좋아하는..."
- 매칭률: "85%" (진한 색 강조)
- 버튼: "친구 신청"
- 목록 끝: "더 보기" 버튼

**AI 매칭 알고리즘 기준**:

1. 거리 (반경 5km 이내 우선)
2. 관심사 유사도 (공통 관심사 개수)
3. 선호 시간대 일치
4. 나이대 유사성 (±10세)

**동작**:

- 카드 클릭 → 친구 상세 프로필
- "친구 신청" → 신청 확인 팝업

**친구 신청 팝업**:

`[김영희]님에게 친구 신청을 보내시겠어요?
신청 메시지를 함께 보낼 수 있습니다. (선택)

[메시지 입력칸]

[취소] [신청하기]`

---

### 4.3 친구 상세 프로필 화면

**화면 목적**: 친구 정보 상세 확인

**UI 구성**:

- 상단: 프로필 사진 (크게)
- 이름, 나이, 거리
- 자기소개 (전체 텍스트)
- 관심사 (아이콘 + 텍스트)
- 선호 활동 시간
- 선호 만남 장소
- 공통 관심사 강조 표시
- 하단:
    - "친구 신청" 버튼 (크게)
    - "신고하기" 링크 (작게, 회색)

**동작**:

- "친구 신청" → 신청 메시지 입력 → 전송
- "신고하기" → 신고 사유 선택 → 제출

---

### 4.4 친구 신청 관리 화면

**화면 목적**: 보낸/받은 친구 신청 관리

**탭 2개**:

**탭 1: 받은 신청**

- 카드 리스트:
    - 프로필 사진
    - 이름, 나이, 거리
    - 신청 메시지 (있는 경우)
    - 공통 관심사
    - 신청 날짜
    - 버튼: "수락" (초록) / "거절" (회색)

**탭 2: 보낸 신청**

- 카드 리스트:
    - 프로필 사진
    - 이름, 나이
    - 상태: "대기 중" / "수락됨" / "거절됨"
    - 신청 날짜
    - "취소" 버튼 (대기 중만)

**동작**:

- "수락" → 친구 관계 성립 → 채팅 가능
- "거절" → 신청 거절 (상대에게 알림 X)
- "취소" → 신청 취소

**저장 데이터** (친구 신청):

- 신청자 ID
- 수신자 ID
- 신청 메시지
- 상태 (pending/accepted/rejected/cancelled)
- 신청 날짜

---

### 4.5 내 친구 목록 화면

**화면 목적**: 연결된 친구 관리

**UI 구성**:

- 제목: "내 친구"
- 정렬: 최근 대화순 / 이름순
- 친구 카드 리스트:
    - 프로필 사진
    - 이름
    - 마지막 대화: "어제"
    - 채팅 버튼
    - 더보기 (⋮)

**더보기 메뉴**:

- 프로필 보기
- 모임 제안하기
- 친구 끊기

**동작**:

- 채팅 버튼 → 1:1 채팅 화면
- 모임 제안 → 모임 만들기 화면
- 친구 끊기 → 확인 후 관계 삭제

**저장 데이터** (친구 관계):

- 사용자 A ID
- 사용자 B ID
- 연결 날짜
- 마지막 대화 날짜
- 상태 (active/blocked)

---

### 4.6 채팅 화면

**화면 목적**: 친구와 1:1 대화

**UI 구성**:

- 상단: 친구 이름, 프로필 사진
- 중앙: 메시지 리스트 (스크롤)
    - 내 메시지 (우측, 베이지)
    - 상대 메시지 (좌측, 흰색)
    - 시간 표시
- 하단: 입력 영역
    - 텍스트 입력칸 (큰 글씨)
    - 전송 버튼
    - 더보기 버튼 (사진 전송 등)

**기능**:

- 텍스트 메시지 전송
- 사진 전송 (선택)
- 읽음 표시 (읽음 / 1 표시)
- 실시간 알림

**저장 데이터** (메시지):

- 메시지 ID
- 채팅방 ID
- 발신자 ID
- 내용 (텍스트 또는 이미지 URL)
- 전송 시각
- 읽음 여부

---

### 4.7 모임 만들기 화면

**화면 목적**: 친구들과 오프라인 모임 제안

**UI 구성**:

- 제목: "모임 제안하기"
- 입력 필드:

**1. 모임 이름**

- 예: "아침 산책 모임"

**2. 참여자 선택** (다중)

- 친구 목록에서 선택

**3. 모임 날짜/시간**

- 날짜 선택기
- 시간 선택기

**4. 모임 장소**

- 장소 검색 (카카오 맵 연동)
- 또는 직접 입력
- 자동 추천: "가까운 공원" "카페" 등

**5. 메모** (선택)

- "편한 복장으로 오세요" 등
- 하단: "모임 만들기" 버튼

**동작**:

- "모임 만들기" → 참여자들에게 초대 알림
- 모임 상세 화면으로 이동

**저장 데이터** (모임):

- 모임 ID
- 생성자 ID
- 모임 이름
- 참여자 목록 (배열)
- 날짜, 시간
- 장소 (이름, 주소, 위도/경도)
- 메모
- 상태 (planned/completed/cancelled)

---

### 4.8 모임 상세 화면

**화면 목적**: 모임 정보 확인 및 참여 관리

**UI 구성**:

- 모임 이름 (제목)
- 날짜/시간
- 장소 (지도 미리보기 + 주소)
- "길 찾기" 버튼 (카카오맵/네이버맵 연동)
- 참여자 목록:
    - 프로필 사진
    - 이름
    - 참여 상태: "참여" / "불참" / "미정"
- 메모
- 댓글/채팅 영역 (모임 관련 대화)
- 하단 버튼:
    - "참여하기" / "불참하기"
    - 생성자만: "모임 수정" / "모임 취소"

**알림**:

- 모임 1일 전: "내일 [아침 산책 모임]이 있습니다"
- 모임 1시간 전: "1시간 후 모임이 시작됩니다"

---

### 4.9 안전 기능

### 안전한 만남 가이드 (팝업)

**표시 시점**: 친구 신청 수락 시 자동 표시

**내용**:

`안전한 만남을 위한 가이드

✅ 공개된 장소에서 만나세요
   - 공원, 카페, 도서관 등
   
✅ 낮 시간을 추천합니다
   - 오전 10시 ~ 오후 5시
   
✅ 처음엔 짧은 시간으로
   - 30분~1시간 정도

⚠️ 개인정보는 조심스럽게
   - 주소, 전화번호 등

문제가 있으면 즉시 신고해주세요.

[확인했습니다]`

---

### 신고 기능 화면

**화면 목적**: 부적절한 사용자 신고

**UI 구성**:

- 제목: "신고하기"
- 신고 대상: [이름]
- 신고 사유 선택 (라디오 버튼):
    - 부적절한 언행
    - 상업적 목적
    - 만남 약속 불이행
    - 거짓 정보
    - 기타 (직접 입력)
- 상세 설명 (텍스트 입력, 선택)
- 증거 첨부 (사진, 선택)
- "제출" 버튼

**동작**:

1. 제출 → 관리자 검토 대기
2. 신고 누적 3회 → 자동 계정 정지
3. 신고자에게 처리 결과 알림

**저장 데이터** (신고):

- 신고자 ID
- 피신고자 ID
- 신고 사유
- 상세 설명
- 증거 URL (이미지)
- 신고 날짜
- 처리 상태 (pending/reviewing/resolved)
- 처리 결과

## 5. 50+ 경력 매칭

### 5.1 경력 프로필 작성 화면

**화면 목적**: 은퇴자의 경력 정보 입력

**UI 구성**:

- 제목: "내 경력 프로필"
- 안내: "당신의 소중한 경험을 나눠보세요"

**입력 필드**:

**1. 프로필 사진** (필수)

- 전문적인 사진 권장 안내

**2. 한 줄 소개** (필수)

- 예: "40년 경력 공인회계사"
- 최대 50자

**3. 주요 경력** (필수, 최대 3개)

- 각 경력:
    - 직무/직책
    - 회사/기관명
    - 기간 (시작-종료 연도)
    - 주요 업무 (텍스트)

**4. 전문 분야** (필수, 다중 선택)

- 체크박스:
    - 회계/세무
    - 법률
    - 교육
    - IT/기술
    - 영업/마케팅
    - 제조/생산
    - 의료/건강
    - 예술/문화
    - 기타 (직접 입력)

**5. 가능한 활동** (필수, 다중 선택)

- 파트타임 일자리
- 프로젝트 단위 업무
- 컨설팅/자문
- 무료 멘토링
- 강의

**6. 활동 조건** (필수)

- 희망 시간: 주 N일, 하루 N시간
- 희망 보수: 시급/일급/월급 (파트타임일 경우)
    - 무료 멘토링 선택 시 '보수 없음' 옵션
- 활동 가능 지역: 온라인 / 오프라인(지역 선택)

**7. 자기 PR** (선택)

- 긴 텍스트 (최대 500자)
- 예: "40년간 중소기업 세무를 담당했습니다..."
- 하단: "완료" 버튼

**입력 검증**:

- 주요 경력: 최소 1개
- 전문 분야: 최소 1개
- 가능한 활동: 최소 1개

**동작**: "완료" → 프로필 저장 → 매칭 기회 화면으로

**자동 생성 옵션**:

- "자서전에서 자동으로 가져오기" 버튼
- AI가 자서전 텍스트에서 경력 정보 추출
- 사용자 확인 후 반영

**저장 데이터**:

- 사용자 ID
- 프로필 사진
- 한 줄 소개
- 경력 목록 (배열)
- 전문 분야 (배열)
- 가능한 활동 (배열)
- 활동 조건 (JSON)
- 자기 PR
- 활성 상태 (active/inactive)
- 생성/수정 날짜

---

### 5.2 기회 목록 화면

**화면 목적**: 매칭 가능한 일자리/멘토링 확인

**탭 2개**:

**탭 1: 파트타임 일자리**

- 기업/기관이 올린 구인 공고
- 카드 리스트:
    - 회사명
    - 직무: "회계 고문"
    - 조건: "주 2일, 월 150만원"
    - 지역: "서울 강남구"
    - 필요 경력: "회계 실무 20년 이상"
    - 매칭률: "90%" (본인 프로필과 비교)
    - 등록일
    - 버튼: "지원하기"

**탭 2: 멘토링 요청**

- 개인이 올린 멘토링 요청
- 카드 리스트:
    - 요청자: "김철수" (익명 옵션)
    - 내용: "창업 준비 중 선배의 조언이 필요합니다"
    - 분야: "제조업"
    - 형태: "1:1 대면" / "온라인"
    - 보수: "무료" / "시간당 3만원"
    - 버튼: "신청하기"

**필터**:

- 전체 / 내 전문 분야만
- 지역별
- 보수 조건별

**동작**:

- 카드 클릭 → 상세 화면
- "지원하기" / "신청하기" → 지원서 작성

---

### 5.3 기회 상세 화면

### 파트타임 일자리 상세

**UI 구성**:

- 회사명
- 직무
- 상세 업무 내용
- 필요 자격/경력
- 근무 조건:
    - 근무 일수/시간
    - 급여
    - 근무 지역
    - 계약 기간
- 복지/혜택 (있는 경우)
- 담당자 정보 (비공개)
- 등록일
- 하단: "지원하기" 버튼

**동작**: "지원하기" → 지원서 작성 화면

---

### 멘토링 요청 상세

**UI 구성**:

- 요청자 정보 (이름 또는 익명)
- 멘토링 주제
- 상세 내용
- 원하는 도움
- 멘토링 형태 (1:1 대면/온라인/그룹)
- 제안 보수 (있는 경우)
- 선호 일시
- 등록일
- 하단: "신청하기" 버튼

**동작**: "신청하기" → 신청 메시지 작성

---

### 5.4 지원서 작성 화면 (파트타임)

**UI 구성**:

- 지원 직무 표시
- 입력 필드:
    1. 지원 동기 (필수, 텍스트)
    2. 관련 경험 (필수, 프로필에서 자동 가져옴, 수정 가능)
    3. 희망 시작일 (선택)
    4. 추가 메시지 (선택)
    5. 이력서 첨부 (선택, PDF/DOC)
- 하단: "지원하기" 버튼

**동작**:

1. "지원하기" → 제출
2. 기업 담당자에게 알림
3. 지원 완료 메시지
4. 내 지원 현황 화면으로

**저장 데이터** (지원):

- 지원자 ID
- 공고 ID
- 지원 동기
- 관련 경험
- 희망 시작일
- 추가 메시지
- 이력서 URL
- 지원 날짜
- 상태 (submitted/reviewing/accepted/rejected)

---

### 5.5 멘토링 신청 화면

**UI 구성**:

- 멘토링 요청 정보 표시
- 입력 필드:
    1. 신청 메시지 (필수)
        - "어떻게 도와드릴 수 있는지 알려주세요"
    2. 가능한 일시 제안 (선택)
        - 날짜/시간 선택
    3. 만남 방법 선택
        - 대면 / 온라인 (화상/전화)
- 하단: "신청하기" 버튼

**동작**:

1. "신청하기" → 제출
2. 요청자에게 알림
3. 요청자가 수락하면 매칭 성립
4. 1:1 채팅방 생성

---

### 5.6 내 활동 관리 화면

**탭 3개**:

**탭 1: 진행 중**

- 현재 활동 중인 일자리/멘토링
- 카드:
    - 회사명/요청자
    - 직무/주제
    - 시작일
    - 상태: "진행 중"
    - 버튼: "상세보기"

**탭 2: 지원/신청 내역**

- 지원한 일자리/멘토링
- 카드:
    - 직무/주제
    - 지원일
    - 상태: "검토 중" / "수락" / "거절"

**탭 3: 완료**

- 종료된 활동 기록
- 평가/후기 남기기

---

### 5.7 구인 공고 등록 화면 (기업용)

**화면 목적**: 기업이 시니어 인력 구인

**UI 구성**:

- 제목: "시니어 인재 구하기"
- 입력 필드:
    1. 회사명 (필수)
    2. 직무 (필수)
    3. 업무 내용 (필수, 상세)
    4. 필요 자격/경력 (필수)
    5. 근무 조건:
        - 근무 일수/시간
        - 급여
        - 근무 지역
        - 계약 기간
    6. 복지/혜택 (선택)
    7. 담당자 정보 (이름, 이메일, 전화)
- 하단: "공고 등록" 버튼

**동작**:

1. "공고 등록" → 관리자 승인 대기
2. 승인 후 목록에 노출
3. 지원자 있으면 알림

---

### 5.8 멘토링 요청 등록 화면

**화면 목적**: 멘토링이 필요한 사람이 요청

**UI 구성**:

- 제목: "멘토링 요청하기"
- 입력 필드:
    1. 주제 (필수)
    2. 상세 내용 (필수)
    3. 원하는 도움 (필수)
    4. 분야 선택 (드롭다운)
    5. 멘토링 형태:
        - 1:1 대면
        - 온라인 (화상/전화)
        - 그룹 멘토링
    6. 제안 보수:
        - 무료
        - 시간당 금액 입력
    7. 익명 요청 (체크박스)
- 하단: "요청하기" 버튼

**동작**:

1. "요청하기" → 즉시 등록
2. 매칭된 멘토에게 알림
3. 신청자 목록 확인 가능

---

## 6. 디지털 유언장

### 6.1 유언장 소개 화면

**화면 목적**: 기능 설명 및 심리적 준비

**UI 구성**:

- 제목: "디지털 유언장"
- 중앙: 봉투와 깃펜 일러스트
- 설명:

  `가족에게 전할 마지막 이야기를 
  안전하게 준비하세요.
  
  ✅ 법적 효력 있는 양식 제공
  ✅ 변호사 검토 서비스 연결
  ✅ 최고 수준 암호화 보관`

- 주요 내용 안내:
    - 재산 분배
    - 장례 희망사항
    - 유품 처리
    - 가족에게 전할 말
- 안내 문구:

  `작성하신 유언장은 안전하게 보관되며,
  지정하신 시점에만 가족에게 전달됩니다.
  
  법적 효력을 위해서는 변호사 공증이 필요합니다.`

- 하단: "작성 시작" 버튼

---

### 6.2 유언장 작성 화면

**화면 목적**: 단계별 유언장 작성 가이드

**진행 단계 표시**: "Step 1 / 5"

### Step 1: 기본 정보

**입력 필드**:

- 작성자 성명 (자동 입력)
- 주민등록번호 (필수, 법적 효력)
- 주소 (자동 입력, 수정 가능)
- 작성 날짜 (자동)
- "다음" 버튼

---

### Step 2: 재산 분배

**UI 구성**:

- 안내: "소유하신 재산을 어떻게 분배하시겠어요?"
- 재산 항목 추가 (반복 가능):

**각 항목**:

1. 재산 종류:
    - 부동산
    - 예금/적금
    - 주식/펀드
    - 기타
2. 상세 설명:
    - 부동산: 주소
    - 예금: 은행명, 계좌번호
3. 상속인 선택:
    - 가족 목록에서 선택
    - 또는 직접 입력 (이름, 관계)